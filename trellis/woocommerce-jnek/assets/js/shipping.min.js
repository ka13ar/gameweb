jQuery(function(e){"use strict";if("undefined"==typeof agenwebsite_woocommerce_jne_params)return!1;var t={formatNoMatches:function(){return agenwebsite_woocommerce_jne_params.i18n_no_matches},placeholderOption:"first"},a={width:"100%"};e(document).ready(function(){("billing"===agenwebsite_woocommerce_jne_params.page||"shipping"===agenwebsite_woocommerce_jne_params.page)&&e("#billing_state, #shipping_state, #calc_shipping_state").change(),agenwebsite_woocommerce_jne_params.wc_version.split(".")[1]<3&&e("#billing_state, #shipping_state, #calc_shipping_state").change()}),e("body").on("change","#billing_state, #shipping_state",function(){var i,n,o,s=e("select.country_to_state, input.country_to_state").val(),c=e(this).find("option:selected").text(),l={action:"woocommerce_jne_shipping_get_kota",provinsi:c,_wpnonce:agenwebsite_woocommerce_jne_params._wpnonce},r=e(this).attr("id");switch(r){case"billing_state":i=e("#billing_kota"),n=e("#billing_city");break;case"shipping_state":i=e("#shipping_kota"),n=e("#shipping_city")}if("undefined"!=typeof n.attr("value")&&n.attr("value")!==!1&&n.attr("value").indexOf(",")>=0&&(o=n.attr("value").split(", ")[1]),"ID"===s){i.parent().show(),i.attr("disabled",!0),n.attr("disabled",!0),i.html('<option value="">'+agenwebsite_woocommerce_jne_params.i18n_loading_data+"</option>");var p=i.find("option:eq(1)").val();e().select2?i.select2().select2("val",p):e().chosen&&i.val(p).trigger("chosen:updated"),n.is("select")&&(n.html('<option value="">'+agenwebsite_woocommerce_jne_params.i18n_loading_data+"</option>"),e().select2?n.select2().select2("val",p):e().chosen&&n.val(p).trigger("chosen:updated")),e.post(agenwebsite_woocommerce_jne_params.ajax_url,l,function(n){var s;e.each(n,function(e,t){s+=t===o?'<option value="'+t+'" selected="selected">'+t+"</option>":'<option value="'+t+'">'+t+"</option>"}),i.html('<option value="">'+agenwebsite_woocommerce_jne_params.i18n_placeholder_kota+"</option>"+s),i.removeAttr("disabled"),e().select2?i.select2(t):e().chosen&&(i.chosen(a),i.trigger("chosen:updated")),i.change()})}else i.change(),i.parent().hide()}),e("body").on("change","#billing_kota, #shipping_kota",function(){var i,n,o,s=e("select.country_to_state, input.country_to_state").val(),c=e(this).closest("div").find("#billing_state option:selected, #shipping_state option:selected"),l=e(this).find("option:selected"),r={action:"woocommerce_jne_shipping_get_kecamatan",provinsi:c.text(),kota:l.text(),_wpnonce:agenwebsite_woocommerce_jne_params._wpnonce},p=agenwebsite_woocommerce_jne_params.i18n_placeholder_kecamatan,_=agenwebsite_woocommerce_jne_params.i18n_label_kecamatan,d=' <abbr class="required" title="'+agenwebsite_woocommerce_jne_params.i18n_required_text+'">*</abbr>',m=e(this).attr("id");switch(m){case"billing_kota":i=e("#billing_city");break;case"shipping_kota":i=e("#shipping_city")}if(n={name:i.attr("name"),id:i.attr("id"),placeholder:i.attr("placeholder"),label:i.parent().find("label"),value:i.attr("value")},"undefined"!=typeof n.value&&n.value!==!1&&n.value.indexOf(",")>=0&&(o=n.value.split(", ")[0]),"ID"===s){if(n.label.html(_+d),i.attr("disabled",!0),i.is("select")){i.html('<option value="">'+agenwebsite_woocommerce_jne_params.i18n_loading_data+"</option>");var h=i.find("option:eq(1)").val();e().select2?i.select2().select2("val",h):e().chosen&&i.val(h).trigger("chosen:updated")}e.post(agenwebsite_woocommerce_jne_params.ajax_url,r,function(s){var c="";e.each(s,function(e,t){c+=t===o?'<option value="'+t+", "+l.text()+'" selected="selected">'+t+"</option>":'<option value="'+t+", "+l.text()+'">'+t+"</option>"}),i.is("input")&&(i.replaceWith(e("<select />").attr({name:n.name,id:n.id,placeholder:p}).addClass("city_select")),i=e("#billing_kota, #shipping_kota").closest("div").find("select#billing_city, select#shipping_city")),i.html('<option value="">'+p+"</option>"+c),i.removeAttr("disabled"),e().select2?i.select2(t):e().chosen&&(i.chosen(a),i.trigger("chosen:updated"))})}else i.is("select")&&i.replaceWith('<input type="text" class="input-text" name="'+n.name+'" id="'+n.id+'" placeholder="'+n.placeholder+'" />')}),e("body").on("change","select.country_to_state, input.country_to_state",function(){var t,a,i,n,o=e(this).val(),s=e(this).attr("id");switch(s){case"billing_country":t=e("#billing_kota"),i=e("#billing_city");break;case"shipping_country":t=e("#shipping_kota"),i=e("#shipping_city")}n={name:i.attr("name"),id:i.attr("id"),placeholder:i.attr("placeholder")},"ID"!==o&&(a=t.parent(),a.hide(),a.removeClass("form-row form-row-wide").addClass("woocommerce-validated"),t.find("option").attr("value","default"),i.is("select")&&(i.parent().show().find(".chosen-container, .select2-container").remove(),i.replaceWith('<input type="text" class="input-text" name="'+n.name+'" id="'+n.id+'" placeholder="'+n.placeholder+'" />')))})});